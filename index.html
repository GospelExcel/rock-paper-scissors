<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
      function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function getComputerChoice() {
        switch (getRandomInt(1, 3)) {
          case 1:
            return "Rock";
          case 2:
            return "Paper";
          case 3:
            return "Scissors";
        }
        return "Something is off...";
      }

      function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
      }

      function getUserChoice() {
        let userChoice;
        let validInput = false;
        while (!validInput) {
          userChoice = capitalizeFirstLetter(
            prompt("Rock, Paper, or Scissors?")
          );
          if (
            userChoice === "Rock" ||
            userChoice === "Paper" ||
            userChoice === "Scissors"
          ) {
            validInput = true;
          } else {
            alert("Invalid Response. Please enter Rock, Paper, or Scissors!");
          }
        }
        return userChoice;
      }

      function playGame() {
        let score = 0;
        function playRound(
          humanChoice = getUserChoice(),
          computerChoice = getComputerChoice()
        ) {
          if (humanChoice === computerChoice) {
            return "We both picked " + humanChoice;
          } else {
            switch (humanChoice) {
              case "Rock":
                if (computerChoice == "Paper") {
                  alert("I win! Paper beats Rock!");
                } else {
                  alert("I lost... Rock beats Scissors...");
                  score++;
                }
                break;

              case "Paper":
                if (computerChoice == "Scissors") {
                  alert("I win! Scissors beats Paper!");
                } else {
                  alert("I lost... Paper beats Rock...");
                  score++;
                }
                break;

              case "Scissors":
                if (computerChoice == "Paper") {
                  alert("I win! Rock beats Scissors!");
                } else {
                  alert("I lost... Scissors beats Paper...");
                  score++;
                }
                break;
            }
          }
        }

        playRound();
        playRound();
        playRound();
        playRound();
        playRound();

        if (score <= 2) {
          alert("Haha, I won ");
        } else {
          alert("Aww, you won");
        }
      }

      alert("Let's play Rock Paper Scissors!");
      playGame();
    </script>
  </body>
</html>
